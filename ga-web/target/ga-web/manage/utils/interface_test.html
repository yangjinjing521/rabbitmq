<h3 class="page-title">接口测试工具</h3>
<div class="page-bar">
	<ul class="page-breadcrumb">
		<li><i class="fa fa-home"></i> <a href="/">首页</a> <i class="fa fa-angle-right"></i></li>
		<li><a href="javascript:void(0);">接口测试工具</a></li>
	</ul>
</div>
<div class="row">
	<div class="col-md-12">
		<!-- BEGIN SAMPLE FORM PORTLET-->
		<div class="portlet light">
			<div class="portlet-title">
				<div class="caption font-green-haze">
					<i class="icon-settings font-green-haze"></i> <span class="caption-subject bold uppercase"> 接口测试</span>
				</div>
			</div>
			<div class="portlet-body form">
				<form role="form" class="form-horizontal" id="action_form">
					<div class="form-body">
						<div class="form-group form-md-line-input">
							<label class="col-md-2 control-label" for="action_input">Action</label>
							<div class="col-md-10">
								<input type="text" class="form-control input-lg" id="action_input" placeholder="输入Action，比如：Action!UtilsAction_interfaceTest.go">
								<div class="form-control-focus"></div>
							</div>
						</div>
						<div class="form-group form-md-line-input ">
							<label class="col-md-2 control-label" for="json_request"> 提交报文</label>
							<div class="col-md-10">
								<textarea class="form-control" rows="3" placeholder="输入提交JSON报文" id="json_request"></textarea>
								<div class="form-control-focus"></div>
							</div>
						</div>
						<div class="form-group form-md-line-input ">
							<label class="col-md-2 control-label" for="form_control_1"> </label>
							<div class="col-md-10">
								<button type="button" class="btn blue" id="send">发送报文</button>
								<div class="form-control-focus"></div>
							</div>
						</div>
						<div class="form-group form-md-line-input ">
							<label class="col-md-2 control-label" for="response_json">结果报文</label>
							<div class="col-md-10">
								<textarea class="form-control" rows="3" placeholder="" id="response_json"></textarea>
								<div class="form-control-focus"></div>
							</div>
						</div>
				</form>
			</div>
		</div>
	</div>
</div>
<script src="../../jslib/takeeasy.js" type="text/javascript"></script>
<script>
	jQuery(document).ready(function() {
		document.onkeydown = function(e) {
			var ev = document.all ? window.event : e;
			if (ev.keyCode == 13) {
				$("#send").click();
			}
		}
		$("#send").bind("click", function() {
			var action = $("#action_input").val();
			var data = {"params":$("#json_request").val()};
			if (action) {
				tt.submit(action, data, function(data) {
					$("#response_json").val(JSON.stringify(data));
				}, function(data) {
					$("#response_json").val(JSON.stringify(data));
				}, true);
			} else {
				$("#action_input").parents(".form-md-line-input").addClass("has-error")
				$("#action_input").focus();
			}
		});
	});
</script>
<!-- END JAVASCRIPTS -->